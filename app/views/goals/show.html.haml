%p
  %b Name:
  = @goal.name
%p
  %b Description:
  = @goal.description
%p
  %b Start time:
  = @goal.start_time
%p
  %b End time:
  = @goal.end_time

.row
  .col-md-2
    %h2 Available Tasks
    - Goal.all.each do |schedulable|
      .schedulable
        = schedulable.name
        %br
        'some date here!'
  .col-md-10
    #calendar

= link_to 'Edit', edit_goal_path(@goal)
\|
= link_to 'Back', goals_path

:javascript
  $(document).ready(function() {
    $("#calendar").fullCalendar({
      defaultDate: '2014-09-12',
      editable: true,
      droppable: true,
      drop: function(date, allDay) {
           // retrieve the dropped element's stored Event Object
           var originalEventObject = $(this).data('eventObject');

           // we need to copy it, so that multiple events don't have a reference to the same object
           var copiedEventObject = $.extend({}, originalEventObject);

           // assign it the date that was reported
           copiedEventObject.start = date;
           copiedEventObject.allDay = allDay;

           // render the event on the calendar
           // the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
           $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);

           // is the "remove after drop" checkbox checked?
           if ($('#drop-remove').is(':checked')) {
           // if so, remove the element from the "Draggable Events" list
             $(this).remove();
           }
        }
    });
  });
